# üåé NovaCommerce Analytics

NovaCommerce Analytics ‚Äî —ç—Ç–æ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä –¥–ª—è –∫—Ä—É–ø–Ω–µ–π—à–µ–≥–æ –æ–Ω–ª–∞–π–Ω-–º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ –ë—Ä–∞–∑–∏–ª–∏–∏.  
–ù–∞—à–∞ —Ü–µ–ª—å ‚Äî –ø–æ–º–æ—á—å –±–∏–∑–Ω–µ—Å—É –ø–æ–Ω—è—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤, –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –∏ —Ç–æ–≤–∞—Ä—ã —Å –ø–æ–º–æ—â—å—é –¥–∞–Ω–Ω—ã—Ö:  
–∫—Ç–æ –ø–æ–∫—É–ø–∞–µ—Ç, —á—Ç–æ –ø–æ–∫—É–ø–∞—é—Ç, –∫–∞–∫ –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –∏ —á–µ–º –∫–ª–∏–µ–Ω—Ç—ã –¥–æ–≤–æ–ª—å–Ω—ã.

---

## üìä –û –ø—Ä–æ–µ–∫—Ç–µ

–ö–æ–º–ø–∞–Ω–∏—è **NovaCommerce** —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –∫–æ–º–º–µ—Ä—Ü–∏–∏ –∏ –¥–æ—Å—Ç–∞–≤–∫–µ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–µ.  
–ú—ã –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –±–æ–ª–µ–µ **100 000 –∑–∞–∫–∞–∑–æ–≤**:  
- –¥–∏–Ω–∞–º–∏–∫—É –ø—Ä–æ–¥–∞–∂,  
- —Ç–æ–ø–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤,  
- –º–µ—Ç–æ–¥—ã –æ–ø–ª–∞—Ç—ã –∏ —Å–∫–æ—Ä–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏,  
- —Ä–µ–π—Ç–∏–Ω–≥–∏ –∏ –æ—Ç–∑—ã–≤—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π.  

–≠—Ç–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ–º–æ–≥–∞–µ—Ç —É–ª—É—á—à–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –æ–ø—ã—Ç –∏ –ø–æ–≤—ã—à–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–¥–∞–≤—Ü–æ–≤.

---

## –û—Å–Ω–æ–≤–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (—Å–∫—Ä–∏–Ω—à–æ—Ç)



## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

1. **–ü–æ–¥–Ω—è—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL**  
   ```bash
   docker compose up -d
- –≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å PostgreSQL –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç schema.sql.

–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
–°–∫–æ–ø–∏—Ä—É–π CSV –∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞ Olist –≤ –ø–∞–ø–∫—É ./data, –∑–∞—Ç–µ–º:

```bash
python load_olist.py --host localhost --port 5433 --db e-commercedb --user postgres --password secret --data-dir ./data --truncate
```
–í—ã–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ SQL-–∑–∞–ø—Ä–æ—Å—ã

```bash
psql -h localhost -p 5433 -U postgres -d e-commercedb -f queries.sql
–ó–∞–ø—É—Å—Ç–∏—Ç—å Python-—Å–∫—Ä–∏–ø—Ç (–¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ CSV):
```

```bash
python main.py
```
–û—Ç–∫—Ä—ã—Ç—å Superset (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–ü–æ–¥–∫–ª—é—á–∏ –±–∞–∑—É –∏ –æ—Ç–∫—Ä–æ–π –≥–æ—Ç–æ–≤—ã–π –¥–∞—à–±–æ—Ä–¥ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- PostgreSQL 16 ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –°–£–ë–î –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- Docker Compose ‚Äî –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- Python 3.11+ ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–∫—Ä–∏–ø—Ç—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

- pandas, SQLAlchemy, psycopg2 ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –ë–î –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

- Apache Superset ‚Äî BI-–¥–∞—à–±–æ—Ä–¥—ã

- DBeaver ‚Äî SQL IDE –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ER-–¥–∏–∞–≥—Ä–∞–º–º—ã

- dbdiagram.io ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î

üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
graphql
```bash
.
‚îú‚îÄ‚îÄ docker-compose.yml      # –æ–∫—Ä—É–∂–µ–Ω–∏–µ PostgreSQL
‚îú‚îÄ‚îÄ schema.sql              # —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ load_olist.py           # –∑–∞–≥—Ä—É–∑–∫–∞ CSV –≤ PostgreSQL
‚îú‚îÄ‚îÄ queries.sql             # 10 –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤
‚îú‚îÄ‚îÄ main.py                 # Python-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ er.png              # ER-–¥–∏–∞–≥—Ä–∞–º–º–∞
‚îÇ   ‚îî‚îÄ‚îÄ dashboard.png       # —Å–∫—Ä–∏–Ω—à–æ—Ç –¥–∞—à–±–æ—Ä–¥–∞
‚îî‚îÄ‚îÄ data/                   # CSV-—Ñ–∞–π–ª—ã Olist (–ª–æ–∫–∞–ª—å–Ω–æ, –Ω–µ –≤ GitHub)
```



–ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏

–°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∫–∞ CSV:

python load_olist.py --host 127.0.0.1 --port 5433 --db e-commercedb --user postgres --password secret --data-dir .\data --truncate


–ü–æ—Ç–æ–º –ø—Ä–∏–º–µ–Ω–∏—Ç—å post_load.sql:

type .\post_load.sql | docker exec -i olist_pg psql -U postgres -d e-commercedb